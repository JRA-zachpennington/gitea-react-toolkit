---
name: Repositories
route: /repositories
---
import { useState } from 'react';
import { Playground, Props } from 'docz';
import { Paper, Card, CardContent, CardHeader, Avatar } from '@material-ui/core';
import { Repositories, SearchForm, Search } from './';
import moment from 'moment';

# Repository Components

## Search Component

The Search component brings together the SearchForm and Repositories components.

<Playground>
<Paper>
  <Search
    defaultOwner="unfoldingword"
    defaultQuery="en_ta"
    onRepository={(data) => {
      alert(JSON.stringify(data, null, 2));
    }}
    config={{server: "https://bg.door43.org"}}
  />
</Paper>
</Playground>

<Props of={Search} isToggle title="Props" />

## SearchForm

The SearchForm component will make a search api call and return the resulting repositories array.

<Playground>
{() => {
  function Repos() {
    const [repos, setRepos] = useState([]);

    const searchFormComponent = (
      <SearchForm
        defaultOwner="unfoldingword"
        defaultQuery="en_ta"
        onRepositories={setRepos}
        config={{server: "https://bg.door43.org"}}
      />
    );

    const repositoriesComponent = (
      <pre>{JSON.stringify(repos, null, 2)}</pre>
    );

    return (
      <div>
        <h3>SearchForm:</h3>
        <Paper>
          {searchFormComponent}
        </Paper>
        <h3>Search Results:</h3>
        <Paper>
          {repositoriesComponent}
        </Paper>
      </div>
    )
  }

  return (
    <Repos />
  );
}}

</Playground>

<Props of={SearchForm} isToggle title="Props" />

## Repositories

The Repositories component renders a list of Repository components.

<Playground>
<Paper>
  <Repositories
    urls={
      [
        "https://bg.door43.org/api/v1/repos/unfoldingWord/en_ta",
        "https://bg.door43.org/api/v1/repos/unfoldingWord/en_tw",
        "https://bg.door43.org/api/v1/repos/unfoldingWord/en_tn",
        "https://bg.door43.org/api/v1/repos/unfoldingWord/en_obs",
        "https://bg.door43.org/api/v1/repos/door43-catalog/en_ta",
        "https://bg.door43.org/api/v1/repos/door43-catalog/en_tw",
        "https://bg.door43.org/api/v1/repos/door43-catalog/en_tn",
        "https://bg.door43.org/api/v1/repos/door43-catalog/en_obs",
      ]
    }
    onRepository={(data) => {
      alert(JSON.stringify(data, null, 2));
    }}
  />
</Paper>
</Playground>

<Props of={Repositories} isToggle title="Props" />
